import{_ as k,m as u,d as _,s as S,a as $,n as b}from"./index.407ba067.js";import{r,o as p,c as m,b as i,t as g,d as o,w as h,F as R,u as C,p as I,g as q}from"./vendor.632c8900.js";const N={data(){return{id:"",singer_info:[],head_img:"",playlist_msg:[],playlist_tracks:[],currentRowIndex:"",simi_list:[],a:123}},async created(){window.scrollTo(0,0),this.id=this.$route.query.id,this.head_img=this.$route.query.img,await this.Artists(this.id),await this.Simi_artist()},methods:{Artists(t){u({id:t}).then(s=>{this.playlist_msg=s,this.playlist_tracks=s.hotSongs,this.$store.commit("saveSong_list",this.playlist_tracks),this.playlist_tracks.forEach(e=>{e.dt=_(e.dt)})}).catch(s=>{console.log(s)})},Song_detail(t){setTimeout(()=>{S({id:t[this.currentRowIndex].privilege.id}).then(s=>{console.log(s),this.$store.commit("saveSong_url",s.data[0].url),$({ids:t[this.currentRowIndex].privilege.id}).then(e=>{console.log(e),this.$store.commit("saveSong_img",e.songs[0].al.picUrl),this.$store.commit("saveSong_name",e.songs[0].name),this.$store.commit("saveSong_singer",e.songs[0].ar[0].name),this.$store.commit("saveSong_dt",_(e.songs[0].dt)),this.$store.commit("saveSong_time",e.songs[0].dt)})})},0),this.$store.commit("saveNow_index",this.currentRowIndex)},tableRowClassName({row:t,rowIndex:s}){t.index=s},onRowClick(t){this.currentRowIndex=t.index,this.$store.commit("saveNow_index",this.currentRowIndex)},Simi_artist(){b({id:this.id}).then(t=>{this.simi_list=t.artists.slice(0,6),this.simi_list.forEach(s=>{s.picUrl=s.picUrl+"?param=50y50"}),console.log(this.simi_list)})},go_singer_item(t,s,e,a){let d=a.indexOf("?");this.$router.push({path:"/discover/singer_item",query:{id:t,name:s,nick:e,img:a.substring(0,d)+"?param=640y330"}})}},watch:{"$route.query.id"(t,s){console.log(t),u({id:t}).then(e=>{this.playlist_msg=e,this.playlist_tracks=e.hotSongs,this.$store.commit("saveSong_list",this.playlist_tracks),this.playlist_tracks.forEach(a=>{a.dt=_(a.dt)})}).catch(e=>{console.log(e)})}}},U=t=>(I("data-v-6d054ea0"),t=t(),q(),t),E={class:"container"},V={class:"left",style:{display:"flex","flex-direction":"column",padding:"10px"}},B={style:{display:"flex","flex-direction":"column"}},j={style:{width:"100%",height:"100%"}},z={style:{"font-size":"26px"}},A={style:{padding:"0px 12px",color:"#ccc"}},F={style:{width:"100%"}},P=["src"],T={class:"song_form"},D={class:"right",style:{display:"flex","flex-direction":"column",padding:"20px 10px"}},L=U(()=>i("div",{style:{padding:"10px 10px","border-bottom":"1px dotted #ccc"}},"\u76F8\u4F3C\u6B4C\u624B",-1)),O={style:{display:"flex","flex-direction":"row","flex-flow":"wrap"}},G=["onClick"],H={style:{}},J=["src"],K={style:{width:"50px",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap",color:"#666666","font-size":"12px"}};function M(t,s,e,a,d,c){const n=r("el-table-column"),y=r("VideoPlay"),w=r("el-icon"),x=r("tamplate"),v=r("el-table");return p(),m("div",E,[i("div",V,[i("div",B,[i("div",j,[i("span",z,g(t.$route.query.name),1),i("span",A,g(t.$route.query.nick),1)]),i("div",F,[i("img",{style:{width:"100%",height:"100%","padding-top":"10px"},src:t.$route.query.img,alt:""},null,8,P)])]),i("div",T,[o(v,{ref:"test","row-class-name":c.tableRowClassName,onRowClick:c.onRowClick,data:d.playlist_tracks,style:{width:"100%"},"row-style":{height:"30px"},"cell-style":{padding:"0px"}},{default:h(()=>[o(n,{type:"index",width:"54",height:"25"}),o(n,{type:"",width:"45",height:"30"},{default:h(()=>[o(x,null,{default:h(()=>[o(w,{style:{width:"25px",height:"40px",cursor:"pointer"},class:"icon",onClick:s[0]||(s[0]=l=>c.Song_detail(d.playlist_tracks))},{default:h(()=>[o(y,{style:{width:"100%",height:"100%","vertical-align":"middle"}})]),_:1})]),_:1})]),_:1}),o(n,{prop:"name","show-overflow-tooltip":!0,label:"\u6B4C\u66F2\u6807\u9898",width:"235",height:"30"}),o(n,{prop:"dt",label:"\u65F6\u957F",width:"110",height:"30"}),o(n,{prop:"ar[0].name","show-overflow-tooltip":!0,label:"\u6B4C\u624B",width:"90",height:"30"}),o(n,{prop:"al.name","show-overflow-tooltip":!0,label:"\u4E13\u8F91",height:"30"})]),_:1},8,["row-class-name","onRowClick","data"])])]),i("div",D,[L,i("div",O,[(p(!0),m(R,null,C(d.simi_list,(l,f)=>(p(),m("div",{key:f,style:{padding:"5px 10px",display:"flex","flex-direction":"column",cursor:"pointer"},onClick:Q=>c.go_singer_item(l.id,l.name,l.alias[0],l.picUrl)},[i("div",H,[i("img",{src:l.picUrl,alt:""},null,8,J)]),i("p",K,g(l.name),1)],8,G))),128))])])])}var Y=k(N,[["render",M],["__scopeId","data-v-6d054ea0"]]);export{Y as default};
