import{_ as R,A as U,b as $,p as D,d as k,s as L,a as I,r as B,t as z,c as E,e as x}from"./index.33dde8d4.js";import{_ as y}from"./\u5706\u5708.be2b3e72.js";import{_ as w}from"./\u8033\u673A.87de1b1a.js";import{r as v,A as j,o,c as n,b as s,d as h,w as f,F as p,u as g,i as q,B as A,t as a,C as P,p as T,g as F}from"./vendor.632c8900.js";const N={name:"recommend",data(){return{banners:[{id:"1",imageUrl:"https://puui.qpic.cn/vcover_hz_pic/0/o8mbrpo92gni5uc1614137102933/0"}],banner_background:[],banner_back:"",activeIndex:0,recommendSongsList:[],selfStyleList:[],weekData:[],singer_list:[],loading:!0,playlist_msg:[],playlist_tracks:[]}},async created(){await this.Banner(),await this.Top_album(),await this.Recommend_songs_list(),await this.Recommend()},async mounted(){await U({}).then(t=>{t.artists.forEach(e=>{e.picUrl=e.picUrl+"?param=130y130"}),this.singer_list=t.artists,this.singer_list.length&&(this.loading=!this.loading)})},methods:{Banner(){$().then(t=>{this.banners=t.banners,this.banners.forEach(e=>{this.banner_background.push(e.imageUrl)})}).catch(t=>{console.log(t)})},carousel_change(){this.activeIndex=this.$refs.carousel.data.activeIndex},click_audioPlay(t){D({id:t}).then(e=>{this.playlist_msg=e,this.playlist_tracks=e.playlist.tracks,this.$store.commit("saveSong_list",this.playlist_tracks),this.playlist_tracks.forEach(c=>{c.dt=k(c.dt)}),this.Song_detail(this.playlist_msg)}).catch(e=>{console.log(e)})},Song_detail(t){setTimeout(()=>{L({id:t.privileges[0].id}).then(e=>{this.$store.commit("saveSong_url",e.data[0].url),I({ids:t.privileges[0].id}).then(c=>{this.$store.commit("saveSong_img",c.songs[0].al.picUrl),this.$store.commit("saveSong_name",c.songs[0].name),this.$store.commit("saveSong_singer",c.songs[0].ar[0].name),this.$store.commit("saveSong_dt",k(c.songs[0].dt)),this.$store.commit("saveSong_time",c.songs[0].dt)})})},0)},async Recommend_songs_list(){B().then(t=>{console.log(t),t.result.forEach(e=>{e.picUrl=e.picUrl+"?param=140y140"}),this.recommendSongsList=t.result}).catch(t=>{console.log(t)})},async Top_album(){await z().then(t=>{this.weekData=t,this.weekData.forEach(e=>{e.picUrl=e.picUrl+"?param=100y100"})})},go_album_item(t){this.$router.push({path:"/album_item",query:{id:t}})},go_album(){this.$router.push({path:"/discover/album"})},Recommend(){E({cookie:this.$store.state.login_cookie}).then(t=>{this.selfStyleList=t.recommend.splice(0,3)})},go_playlist(t){this.$router.push({path:"/discover/playlist_item",query:{id:t}})},go_playlist_all(t){this.$router.push({path:"/discover/playlist",query:{cat:t||"\u5168\u90E8"}})},go_taste(){this.$router.push({name:"taste"})},filter_playCount(t){return t=t+"",t>1e4?t.substring(0,t.length-4)+"\u4E07":t},go_singer_item(t,e,c,u){let d=u.indexOf("?");this.$router.push({path:"/discover/singer_item",query:{id:t,name:e,nick:c,img:u.substring(0,d)+"?param=640y330"}})}}},r=t=>(T("data-v-7c7aefa2"),t=t(),F(),t),V={class:"banner",ref:"banner_back_ref"},O=["src"],G={class:"container"},H={class:"left"},J={class:"hotRecommend"},K={class:"hotRecommend_head"},M=r(()=>s("div",{style:{width:"16px",height:"16px"}},[s("img",{style:{width:"100%",height:"100%"},src:y,alt:""})],-1)),Q={class:"hotRecommend_list"},W={class:"list_li"},X=["onClick","src"],Y={class:"buttom"},Z=r(()=>s("img",{style:{width:"20px",height:"20px",padding:"10px"},src:w,alt:""},null,-1)),ss={style:{color:"#ccc",font:"20px '\u96B6\u4E66'"}},ts=["onClick"],es={class:"hotRecommend"},is=r(()=>s("div",{class:"hotRecommend_head"},[s("div",{style:{width:"16px",height:"16px"}},[s("img",{style:{width:"100%",height:"100%"},src:y,alt:""})]),s("span",{class:"headLine"},"\u4E2A\u6027\u5316\u63A8\u8350")],-1)),ls={class:"hotRecommend_list"},os={class:"list_li"},ns={class:"calendar"},as={class:"week"},cs={class:"day"},ds=r(()=>s("span",null,"\u6BCF\u65E5\u6B4C\u5355\u63A8\u8350",-1)),rs={class:"list_li"},_s=["onClick","src"],hs={class:"buttom"},ps=r(()=>s("img",{style:{width:"20px",height:"20px",padding:"10px"},src:w,alt:""},null,-1)),gs={style:{color:"#ccc",font:"20px '\u96B6\u4E66'"}},ms={class:"hotRecommend"},us={class:"hotRecommend_head"},ys={style:{width:"16px",height:"16px"}},vs=r(()=>s("span",{class:"headLine"},"\u65B0\u789F\u4E0A\u67B6",-1)),ks={style:{padding:"20px"}},xs={style:{display:"flex","flex-direction":"row","flex-wrap":"wrap",border:"1px solid #ddd","justify-content":"center"}},ws={style:{margin:"10px 15px"}},fs={class:"list_li",style:{width:"120px",height:"120px"}},bs=["onClick","src"],Cs={style:{width:"100px",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap",padding:"5px 0px"}},Ss={style:{width:"100px",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap",color:"#666666","font-size":"12px"}},Rs={class:"right"},Us={key:0,class:"right_top"},$s={style:{padding:"10px",display:"flex"}},Ds={style:{width:"90px",height:"90px",border:"1px solid #ccc"}},Ls=["src"],Is={style:{"padding-left":"20px"}},Bs={style:{"padding-top":"5px",color:"#999999",width:"50px","text-align":"center","border-radius":"15px",border:"1px solid #ccc"}},zs=r(()=>s("div",null,null,-1)),Es={key:1,class:"right_top"},js={class:"right_main"},qs={class:"hotRecommend"},As=r(()=>s("div",{class:"hotRecommend_head"},[s("span",null,"\u5165\u9A7B\u6B4C\u624B"),s("span",null,"\u67E5\u770B\u5168\u90E8")],-1)),Ps={class:"hotRecommend_list"},Ts=["onClick"],Fs={class:"list_li"},Ns={class:"img"},Vs=["src"],Os={class:"information"},Gs={style:{"font-size":"14px",color:"#333333"}},Hs={style:{"font-size":"12px",color:"#666666"}};function Js(t,e,c,u,d,l){const b=v("el-carousel-item"),C=v("el-carousel"),m=v("el-divider"),S=j("loading");return o(),n("div",null,[s("div",{class:"top_banner",style:A({"background-image":`url(${d.banner_background[d.activeIndex]})`,"background-size":"30000px","background-position":"top top"})},[s("div",V,[h(C,{trigger:"click",autoplay:!1,arrow:"always",onChange:e[0]||(e[0]=i=>l.carousel_change()),ref:"carousel"},{default:f(()=>[(o(!0),n(p,null,g(d.banners,(i,_)=>(o(),q(b,{style:{width:"100%",height:"350px"},key:_},{default:f(()=>[s("img",{style:{width:"100%",height:"100%"},src:i.imageUrl},null,8,O)]),_:2},1024))),128))]),_:1},512)],512)],4),s("div",G,[s("div",H,[s("div",J,[s("div",K,[M,s("span",{class:"headLine",onClick:e[1]||(e[1]=i=>l.go_playlist_all(""))},"\u70ED\u95E8\u63A8\u8350"),s("span",{onClick:e[2]||(e[2]=i=>l.go_playlist_all("\u534E\u8BED"))},"\u534E\u8BED"),h(m,{direction:"vertical"}),s("span",{onClick:e[3]||(e[3]=i=>l.go_playlist_all("\u6D41\u884C"))},"\u6D41\u884C"),h(m,{direction:"vertical"}),s("span",{onClick:e[4]||(e[4]=i=>l.go_playlist_all("\u6447\u6EDA"))},"\u6447\u6EDA"),h(m,{direction:"vertical"}),s("span",{onClick:e[5]||(e[5]=i=>l.go_playlist_all("\u6C11\u8C23"))},"\u6C11\u8C23"),h(m,{direction:"vertical"}),s("span",{onClick:e[6]||(e[6]=i=>l.go_playlist_all("\u7535\u5B50"))},"\u7535\u5B50"),s("span",{class:"more",onClick:e[7]||(e[7]=i=>l.go_playlist_all())},"\u66F4\u591A")]),s("div",Q,[(o(!0),n(p,null,g(d.recommendSongsList,i=>(o(),n("ul",{key:i.id},[s("li",null,[s("div",W,[s("img",{onClick:_=>l.go_playlist(i.id),src:i.picUrl,style:{width:"100%",height:"100%"},alt:""},null,8,X),s("div",Y,[Z,s("span",ss,a(l.filter_playCount(i.playCount)),1),s("img",{onClick:_=>l.click_audioPlay(i.id),class:"icon_play",style:{width:"26px",height:"26px"},src:x,alt:""},null,8,ts)])]),s("span",null,a(i.name),1)])]))),128))])]),s("div",es,[is,s("div",ls,[s("li",{onClick:e[8]||(e[8]=i=>l.go_taste())},[s("div",os,[s("div",ns,[s("div",as,"\u661F\u671F"+a(new Date().getDay()),1),s("div",cs,a(new Date().getDate()),1)])]),ds]),(o(!0),n(p,null,g(d.selfStyleList,i=>(o(),n("ul",{key:i.id},[s("li",null,[s("div",rs,[s("img",{onClick:_=>l.go_playlist(i.id),src:i.picUrl,style:{width:"100%",height:"100%"},alt:""},null,8,_s),s("div",hs,[ps,s("span",gs,a(l.filter_playCount(i.playcount)),1),s("img",{onClick:e[9]||(e[9]=_=>l.click_audioPlay()),class:"icon_play",style:{width:"26px",height:"26px"},src:x,alt:""})])]),s("span",null,a(i.name),1)])]))),128))])]),s("div",ms,[s("div",us,[s("div",ys,[s("img",{onClick:e[10]||(e[10]=i=>l.go_album_item(t.item.id)),style:{width:"100%",height:"100%"},src:y,alt:""})]),vs,s("span",{class:"more",onClick:e[11]||(e[11]=i=>l.go_album())},"\u66F4\u591A")]),s("div",ks,[s("div",xs,[(o(!0),n(p,null,g(d.weekData,i=>(o(),n("ul",{key:i.id},[s("li",ws,[s("div",fs,[s("img",{onClick:_=>l.go_album_item(i.id),src:i.picUrl,style:{width:"100%",height:"100%"},alt:""},null,8,bs)]),s("p",Cs,a(i.name),1),s("p",Ss,a(i.artists[0].name),1)])]))),128))])])])]),s("div",Rs,[t.$store.state.account_id?(o(),n("div",Us,[s("div",$s,[s("div",Ds,[s("img",{style:{width:"100%",height:"100%",padding:"5px"},src:t.$store.state.login_img,alt:""},null,8,Ls)]),s("div",Is,[s("p",null,a(t.$store.state.account_nickname),1),s("p",Bs," lv."+a(t.$store.state.account_lever),1)]),zs])])):(o(),n("div",Es,"\u672A\u767B\u5F55")),s("div",js,[s("div",qs,[As,P((o(),n("div",Ps,[(o(!0),n(p,null,g(d.singer_list.slice(0,10),i=>(o(),n("ul",{key:i.id},[s("li",{onClick:_=>l.go_singer_item(i.id,i.name,i.alias[0],i.picUrl)},[s("div",Fs,[s("div",Ns,[s("img",{src:i.picUrl,style:{width:"100%",height:"100%"},alt:""},null,8,Vs)]),s("div",Os,[s("p",Gs,a(i.name),1),s("p",Hs,a(i.alias[0]),1)])])],8,Ts)]))),128))])),[[S,d.loading]])])])])])])}var Xs=R(N,[["render",Js],["__scopeId","data-v-7c7aefa2"]]);export{Xs as default};
